(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var getIdentifier=function(){var e=window.location.hash,i=e.substr(1).split("/");return i.join("")},loadDiscus=function(){!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()},reloadDiscus=function(){DISQUS.reset({reload:!0,config:function(){console.log(this),this.page.identifier=getIdentifier(),this.page.url=disqus_url+"#!"+getIdentifier()}})};module.exports.load=function(){console.log("loading disqus",getIdentifier()),disqus_shortname="rayban-vision",disqus_url=window.siteName,disqus_identifier=getIdentifier(),$("#disqus_thread").show(),window.DISQUS?reloadDiscus():loadDiscus()};


},{}],2:[function(require,module,exports){
var getIdentifier=function(){var r=window.location.hash,n=r.substr(1).split("/");return n.join("")};module.exports=function(r){r.helpers.each;return r.logger.level=0,{disqus_identifier:function(){return getIdentifier()},downcase:function(n){return new r.SafeString(n.toLowerCase())},conditional:function(n,e){return e&&(e=e.hash),new r.SafeString(n?e.truely||"":e.falsely)},url:function(n){return new r.SafeString(n)},breaklines:function(n){return n=r.Utils.escapeExpression(n),n=n.replace(/(\r\n|\n|\r)/gm,"<br>"),new r.SafeString(n)},times:function(r,n){for(var e="",t=0;r>t;++t)e+=n.fn(t);return e},parseDur:function(r){return helpers.prettyDuration(r)},img:function(r,n){n=n.hash||{};var e=n["class"]||"",t=n.id||"",i=n.href||null;return i?"<a href='"+i+"'><img src='/img/"+r+"' class='"+e+"' id='"+t+"'></a>":"<img src='/img/"+r+"' class='"+e+"' id='"+t+"'>"},reverse:function(r){var n=arguments[arguments.length-1],e="";if(r&&r.length>0)for(var t=r.length-1;t>=0;t--)e+=n.fn(r[t]);else e=n.inverse(this);return e},target:function(r){return r||"_self"},join:function(r){return r.constructor===Array?r.join(""):r},copyright:function(n){return new r.SafeString("&copy;"+n)},ifExists:function(r,n){return r?n:""},ifCond:function(r,n,e,t){switch(n){case"==":return r==e?t:"";case"===":return r===e?t:"";case"<":return e>r?t:"";case"<=":return e>=r?t:"";case">":return r>e?t:"";case">=":return r>=e?t:"";case"&&":return r&&e?t:"";case"||":return r||e?t:"";default:return""}}}};


},{}],3:[function(require,module,exports){
var registerHelpers=function(e){var r=e(Handlebars);for(var l in r)r.hasOwnProperty(l)&&Handlebars.registerHelper(l,r[l])},compileTemplate=function(e,r){return r=r||e,Templates[r]?Templates[r](data[e]):null};module.exports={registerHelpers:registerHelpers,compileTemplate:compileTemplate};


},{}],4:[function(require,module,exports){
var helpers=require("./helpers"),hbsHelpers=require("./handlebars");helpers.registerHelpers(hbsHelpers),$.getJSON("data/data.json",function(e){window.data=e,require("./main")});
},{"./handlebars":2,"./helpers":3,"./main":5}],5:[function(require,module,exports){
function OpenInNewTab(e){var t=window.open(e,"_blank");t.focus()}var helpers=require("./helpers"),disqus=require("./disqus"),sidebar=helpers.compileTemplate("sidebar"),getURL=function(e){e=e||window.location.hash;var t=e.substr(1).split("/");return t},redirects={random:{classes:"classes","classes-taken":"classes"}},redirect=function(e){return e&&"string"==typeof e?(window.location.hash="#"+e,open(getURL()),resizeContent(),!0):void 0},resolveRedirects=function(e){var t=getURL(e);if(t[0]){var i=redirects[t[0]];return t[1]&&i&&(i=i[t[1]]),redirect(i)}},updateSidebar=function(e){$("#sidebar .link").removeClass("active"),$("#sidebar #"+e.replace(/[^a-zA-Z_ ]/g,"")).addClass("active")},replaceAndScroll=function(e,t){$(e).html(t).hide(),setTimeout(function(){$(document).scrollTop(0)},0),$(document).scrollTop(0),$(e).fadeIn(200)},swapFor=function(e,t){if(data[e]){var i=helpers.compileTemplate(e,t);updateSidebar(e),replaceAndScroll("#content .content",i)}},loadDetails=function(e,t,i){$("#content .content").css("width","50%");var n=$("#"+t).data("template");n&&Templates[n]&&(i=n);var i=Templates[i],a=data[e].articles,c=$.grep(a,function(e){return e.id==t})[0];if(i&&c){var o=i(c);replaceAndScroll("#content .detailed-content",o)}resizeContent(),bind()},hideDetails=function(){$("#content .detailed-content").hide(),$("#content .content").css("width","100%")},smallWidth=function(e){return $("#content .content").outerWidth()<125?(e.stopPropagation(),e.preventDefault(),hideDetails(),!0):void 0},reset=function(){$("body").css("padding-left","")},bind=function(){$(".article.detailed").off("click").click(function(e){if(!smallWidth(e)){var t=$(this).parent("div").attr("class"),i=$(this).attr("id");window.location.hash="#"+t+"/"+i,resolveRedirects()||($(window).width()<745&&minimizeSidebar(!0),loadDetails(t,i,"details"))}}),$(".article.linked").off("click").click(function(e){if(!smallWidth(e)){var t=$(e.target).attr("href");if(!t){var i=$(this).find("a").attr("href");OpenInNewTab(i)}}}),$("#menu-icon").off("click").click(function(){$("#sidebar").toggleClass("active");var e=$("#sidebar").hasClass("active");$("body").css("padding-left",e?"180px":"")}),$("#content .content").off("click").click(function(e){var t=$(e.target).parents(".detailed").get()[0],i=$(e.target).is(".detailed");void 0!=t||i||hideDetails()}),$(".meta").off("click").click(function(){var e=$(this).attr("href"),t=getURL(e);resolveRedirects(e)||t[0]&&open(t)}),$("img.shadow").off("click").click(function(e){var t=e.currentTarget.currentSrc;$("#lightbox-container").show(),$("#lightbox").css("background-image","url("+t+")")}),$("#lightbox-container").off("click").click(function(){$(this).hide()}),$("#show-comments").off("click").click(function(){disqus.load(),$(this).hide()})},resizeContent=function(){var e=$(window).width(),t=($("#content .content").css("width"),$(".detailed-content"));if(t.is(":visible"))if(560>e){var i=e-t.outerWidth();$("#content .content").css("width",i)}else $("#content .content").css("width","50%");e>744&&reset()},minimizeSidebar=function(e){$("body").css("padding-left",e?"0px":""),$("#sidebar").removeClass("active"),e&&$("#sidebar").fadeOut(100)};$("#sidebar").append(sidebar);var open=function(e){e[0]?swapFor(e[0],"content"):swapFor("about","content"),e[1]&&loadDetails(e[0],e[1],"details"),bind()},hash=getURL();resolveRedirects()||(open(hash),resizeContent()),$(".link").click(function(){var e=$(this).attr("id");$("#sidebar").hasClass("active")&&$(window).width()<460&&minimizeSidebar(),hideDetails(),swapFor(e,"content"),bind()}),$(window).resize(resizeContent);


},{"./disqus":1,"./helpers":3}]},{},[4]);
